# 30.09.2025

# File Download Service

Сервис для загрузки файлов по списку ссылок. Пользователь может отправить задачу с ссылками, и сервис скачает эти файлы в фоновом режиме. Статус задачи можно проверить через API. При вызове статуса задачи указываются файлы, которые не удалось скачать.

## Установка

1. Установите Go 1.24 и выше.
2. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/ForMeSir/30.09.2025
   cd 30.09.2025
   ```

3. Установите зависимости:

   ```bash
   go mod tidy
   ```

4. Запустите сервис:
   ```bash
   go run cmd/main.go
   ```

## Использование

### Создание задачи

Отправьте POST запрос с JSON списком ссылок:

```bash
POST /download
{
  "files": [
    "https://example.com/file1.txt",
    "https://example.com/file2.jpg"
  ]
}
```

Ответ вы получите ввиде случайного сгенерированного UUID:

{
"id": "332bce00-5cc6-4f95-8c52-4cc3742c3b73"
}

### Получение статуса задачи

Отправьте GET запрос с ID задачи:

GET /status?id=332bce00-5cc6-4f95-8c52-4cc3742c3b73

Ответ вы получите ввиде статуса самой задачи и списком файлов, которых не удалось скачать:

{
"failedToDowmload": null,
"status": "completed"
}

#### Поддержка graceful shutdown

Для плавного завершения работы сервера использовалось graceful shutdown. При остановке сервера происходит ожидание завершения всех активных задач перед выходом.
